{"ast":null,"code":"var _jsxFileName = \"/home/clans/techmarket/src/components/pages/ProductList.js\";\nimport React, { Component } from \"react\";\nimport Product from \"../Product\";\nimport { storeProducts } from \"../../data\";\nimport styled from \"styled-components\";\nimport { ProductConsumer } from \"../../context\";\nimport \"../styles/bootstrap4/bootstrap.min.css\";\nimport \"../styles/main_styles.css\";\nimport \"../styles/responsive.css\";\nimport Header from '../header.js';\nimport Footer from '../footer.js';\nimport axios from 'axios';\nimport { createBrowserHistory } from 'history';\nconst history = createBrowserHistory();\nexport default class ProductList extends Component {\n  constructor() {\n    super();\n    this.state = {\n      products: []\n    };\n  }\n\n  componentWillMount() {\n    axios.get(\"http://46.101.236.211:8666/product/\").then(response => {\n      this.setState({\n        products: response.data\n      });\n      console.log(this.state.products);\n    }).catch(error => {\n      console.log(error);\n    });\n    let arr = this.state.products.product;\n    console.log(\"a\", arr);\n  }\n\n  startSort() {\n    const arr = this.state.products.sort((a, b) => {\n      return a.retail_price - b.retail_price;\n    });\n    this.setState({\n      products: arr\n    });\n  }\n\n  startSortDiscount() {\n    const arr = this.state.products;\n    let finalArr = arr.sort((a, b) => b.presence.map(pre => pre.discount) - a.presence.map(dis => dis.discount));\n    this.setState({\n      products: finalArr\n    });\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"banner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"banner_background\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"container fill_height\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row fill_height\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"banner_product_image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"col-lg-5 offset-lg-4 fill_height\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"banner_content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      class: \"banner_text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"banner_price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"banner_product_name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"button banner_button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    })))))), React.createElement(\"div\", {\n      class: \"shop\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12 p-0 m-2 d-flex justify-content-flex-start align-item-center ml-0 mr-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"shop_content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"shop_bar clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"shop_sorting\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"\\u0421\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u043A\\u0430:\"), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      class: \"sorting_text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \" \\u043F\\u043E .....\"), React.createElement(\"i\", {\n      class: \"fas fa-chevron-down\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      class: \"shop_sorting_button\",\n      onClick: () => this.startSort(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"\\u043F\\u043E \\u0446\\u0435\\u043D\\u0435\"), React.createElement(\"li\", {\n      class: \"shop_sorting_button\",\n      onClick: () => this.startSortDiscount(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"\\u043F\\u043E \\u0441\\u043A\\u0438\\u0434\\u043A\\u0435\")))))))), this.state.products.map(product => {\n      return React.createElement(\"div\", {\n        class: \"product_item  discount\",\n        key: product.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"product_border\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"product_image d-flex flex-column align-items-center justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: product.photo[0] && product.photo[0].image,\n        alt: \"\",\n        onClick: () => {\n          history.push({\n            pathname: \"/details/\".concat(product.id, \"/\"),\n            state: {\n              proId: product.id\n            }\n          });\n          history.go(\"/details/\".concat(product.id, \"/\"));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"product_content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, product.presence && product && product.presence.map(presence => {\n        return React.createElement(\"div\", {\n          class: \"product_price\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, presence.price, \" \\u0441\\u043E\\u043C \");\n      }), React.createElement(\"div\", {\n        class: \"product_name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, product.name)))), React.createElement(\"div\", {\n        class: \"product_fv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(\"ul\", {\n        class: \"product_marks\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, product.presence.map(a => a.discount > 0 ? React.createElement(\"li\", {\n        className: \"product_mark product_discount\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"-\", product.presence[0].discount, \"%\") : \"\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: () => {\n          history.push({\n            pathname: \"/details/\".concat(product.id, \"/\"),\n            state: {\n              proId: product.id\n            }\n          });\n          history.go(\"/details/\".concat(product.id, \"/\"));\n        },\n        class: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\"))));\n    })))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/clans/techmarket/src/components/pages/ProductList.js"],"names":["React","Component","Product","storeProducts","styled","ProductConsumer","Header","Footer","axios","createBrowserHistory","history","ProductList","constructor","state","products","componentWillMount","get","then","response","setState","data","console","log","catch","error","arr","product","startSort","sort","a","b","retail_price","startSortDiscount","finalArr","presence","map","pre","discount","dis","render","id","photo","image","push","pathname","proId","go","price","name"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Product from \"../Product\";\nimport { storeProducts } from \"../../data\";\nimport styled from \"styled-components\";\nimport { ProductConsumer } from \"../../context\";\nimport \"../styles/bootstrap4/bootstrap.min.css\";\nimport \"../styles/main_styles.css\";\nimport \"../styles/responsive.css\";\nimport Header from '../header.js';\nimport Footer from '../footer.js';\nimport axios from 'axios';\nimport { createBrowserHistory } from 'history';\nconst history = createBrowserHistory();\nexport default class ProductList extends Component {\n  constructor() {\n    super();\n    this.state = {\n      products: [],\n    };\n  }\n\n  componentWillMount() {\n    axios.get(`http://46.101.236.211:8666/product/`)\n      .then(response => {\n        this.setState({products: response.data});\n        console.log(this.state.products);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n\n    let arr = this.state.products.product;\n    console.log(\"a\", arr);\n\n  }\n\n  startSort() {\n    const arr = this.state.products.sort((a,b) => {\n      return a.retail_price - b.retail_price;\n    })\n    this.setState({\n      products: arr\n    })\n  }\n\n  startSortDiscount() {\n    const arr = this.state.products;\n\n    let finalArr= arr.sort((a,b)=>b.presence.map(pre=>pre.discount)-a.presence.map(dis=>dis.discount));\n\n    this.setState({\n      products: finalArr\n    });\n  }\n\n  render() {\n\n\n\n    return (\n\n      <React.Fragment>\n\n        <Header/>\n\n        <div class=\"banner\">\n          <div className=\"banner_background\"></div>\n          <div class=\"container fill_height\">\n            <div class=\"row fill_height\">\n              <div class=\"banner_product_image\"></div>\n              <div class=\"col-lg-5 offset-lg-4 fill_height\">\n                <div class=\"banner_content\">\n                  <h1 class=\"banner_text\"></h1>\n                  <div class=\"banner_price\"><span></span></div>\n                  <div class=\"banner_product_name\"></div>\n                  <div class=\"button banner_button\"></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"shop\">\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-12 p-0 m-2 d-flex justify-content-flex-start align-item-center ml-0 mr-0\">\n                <div class=\"shop_content\">\n                  <div class=\"shop_bar clearfix\">\n                    <div class=\"shop_sorting\">\n                      <span>Сортировка:</span>\n                      <ul>\n                        <li>\n                          <span class=\"sorting_text\"> по .....</span><i class=\"fas fa-chevron-down\"></i>\n                          <ul>\n                            <li class=\"shop_sorting_button\" onClick={() => this.startSort()}>по цене</li>\n                            <li class=\"shop_sorting_button\" onClick={() => this.startSortDiscount()}>по скидке</li>\n                          </ul>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              {\n                this.state.products.map((product)=> {\n                  return (\n                    <div class=\"product_item  discount\" key={product.id} >\n                      <div class=\"product_border\"></div>\n                      <div class=\"product_image d-flex flex-column align-items-center justify-content-center\">\n\n                        <img src={product.photo[0] && product.photo[0].image } alt=\"\" onClick ={() => {history.push({pathname:`/details/${product.id}/`,state: {proId: product.id}});\n                          history.go(`/details/${product.id}/`)}}/>\n                      </div>\n                      <div class=\"product_content\">\n                        {product.presence &&  product && product.presence.map((presence) =>{\n                          return(\n                            <div class=\"product_price\">{presence.price} сом </div>\n                          )})}\n                        <div class=\"product_name\" ><div><a >{product.name}</a></div ></div>\n                      </div>\n                      <div class=\"product_fv\"></div>\n                      <ul class=\"product_marks\">\n\n                        {product.presence.map(a=>a.discount > 0 ? <li className=\"product_mark product_discount\">-{product.presence[0].discount}%</li> : \"\")}\n\n                      </ul>\n\n                      <div>\n                        <button onClick ={() => {history.push({pathname:`/details/${product.id}/`,state: {proId: product.id}});\n                          history.go(`/details/${product.id}/`)}} class=\"button\"><a href=\"\">Подробнее</a></button>\n                      </div>\n                    </div>\n\n\n\n\n                  )}\n\n\n\n                )\n\n\n              }\n            </div>\n          </div>\n        </div>\n\n        <Footer/>\n      </React.Fragment>\n\n\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}